# Milesight AM308L LoRaWAN Decoder

## Device Information
- **Manufacturer**: Milesight
- **Model**: AM308L
- **Type**: Environmental Monitoring Sensor
- **LoRaWAN Version**: 1.0.x
- **Regions**: EU868, US915, AS923, AU915
- **Official Reference**: https://www.milesight.com/iot/product/lorawan-sensor/am319

## Implementation Details
- **Driver Version**: 1.2.0
- **Generated**: 2025-09-02
- **Coverage**: 22/22 uplinks implemented, 8/8 downlinks implemented
- **Framework**: v2.5.0
- **Template**: v2.5.0

## Expected UI Examples

### Example 1: Normal Environmental Data
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ  AM308L-slot2  Milesight AM308L   â”‚
â”‚ ğŸ”‹ 3.5V ğŸ“¶ -78dBm â±ï¸ 2m ago        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ¡ï¸ 23.1Â°C ğŸ’§ 52% ğŸ”µ 1013hPa ğŸ’¡ 8   â”‚
â”‚ ğŸ’¨ 542ppm ğŸŒ¬ï¸ 0.75 IAQ             â”‚
â”‚ ğŸŒ«ï¸ 30Î¼g/mÂ³ ğŸŒ«ï¸ 40Î¼g/mÂ³             â”‚
â”‚ ğŸ  Idle ğŸ’¾ v1.2                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 2: Motion Detection with Poor Air Quality
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ  AM308L-slot2  Milesight AM308L   â”‚
â”‚ ğŸ”‹ 3.2V ğŸ“¶ -85dBm â±ï¸ 1m ago        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ¡ï¸ 28.5Â°C ğŸ’§ 68% ğŸ”µ 1008hPa ğŸ’¡ 6   â”‚
â”‚ ğŸ’¨ 1250ppm ğŸŒ¬ï¸ 3.2 IAQ             â”‚
â”‚ ğŸŒ«ï¸ 85Î¼g/mÂ³ ğŸŒ«ï¸ 120Î¼g/mÂ³            â”‚
â”‚ ğŸš¶ Motion ğŸ”” Buzzer ON             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 3: Historical Data Mode
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ  AM308L-slot2  Milesight AM308L   â”‚
â”‚ ğŸ”‹ 3.6V ğŸ“¶ -72dBm â±ï¸ 5m ago        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ¡ï¸ 25.2Â°C ğŸ’§ 48% ğŸ”µ 1015hPa ğŸ’¡ 9   â”‚
â”‚ ğŸ’¨ 425ppm ğŸŒ¬ï¸ 0.52 IAQ             â”‚
â”‚ ğŸŒ«ï¸ 20Î¼g/mÂ³ ğŸŒ«ï¸ 32Î¼g/mÂ³             â”‚
â”‚ ğŸ  Idle ğŸ“Š Hist:IAQ                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Command Reference

### Test Commands (slot = driver slot 1-16):
| Command | Description | Usage | Example |
|---------|-------------|-------|---------|
| LwAM308LTestUI<slot> | UI scenarios | `<scenario>` | `LwAM308LTestUI2 normal` |

### Control Commands (slot = driver slot 1-16):
| Command | Description | Usage | Downlink Hex |
|---------|-------------|-------|---------------|
| LwAM308LReboot<slot> | Device reboot | (no params) | `FF10FF` |
| LwAM308LBuzzer<slot> | Buzzer control | `on/off/stop` | `FF3E01/FF3D00` |
| LwAM308LInterval<slot> | Report interval | `<seconds>` | `FF03XXXX` |
| LwAM308LTimeSync<slot> | Time sync | `enable/disable` | `FF3B02/FF3B00` |
| LwAM308LTimeZone<slot> | Time zone | `<Â±hours*10>` | `FF17XXXX` |
| LwAM308LTVOCUnit<slot> | TVOC unit | `iaq/ugm3` | `FFEB00/FFEB01` |
| LwAM308LCO2Cal<slot> | CO2 calibration | `factory/abc/manual,<ppm>` | `FF1AXX[XXXX]` |
| LwAM308LHistory<slot> | History control | `enable/disable/clear` | `FF6801/FF6800/FF2701` |

## Usage Examples

### Driver in Slot 2:
```bash
# Test scenarios
LwAM308LTestUI2 normal      # Normal environmental data
LwAM308LTestUI2 motion      # Motion detected
LwAM308LTestUI2 poor        # Poor air quality
LwAM308LTestUI2 history_iaq # Historical IAQ data

# Control commands
LwAM308LInterval2 300       # 5-minute reporting
LwAM308LBuzzer2 on         # Enable buzzer
LwAM308LTimeZone2 20       # UTC+2 timezone
LwAM308LTVOCUnit2 iaq      # TVOC in IAQ units
LwAM308LCO2Cal2 abc        # ABC calibration
LwAM308LHistory2 enable    # Enable history logging
```

## Uplink Coverage Matrix
| Channel | Type | Description | Status | Notes |
|---------|------|-------------|--------|-------|
| 0x01 | 0x75 | Battery | âœ… Implemented | Percentage |
| 0x03 | 0x67 | Temperature | âœ… Implemented | Â±0.1Â°C |
| 0x04 | 0x68 | Humidity | âœ… Implemented | Â±0.5% RH |
| 0x05 | 0x00 | PIR Motion | âœ… Implemented | Trigger/Idle |
| 0x06 | 0xCB | Light Level | âœ… Implemented | 0-255 level |
| 0x07 | 0x7D | CO2 | âœ… Implemented | NDIR sensor |
| 0x08 | 0x7D/0xE6 | TVOC | âœ… Implemented | IAQ/Âµg/mÂ³ |
| 0x09 | 0x73 | Pressure | âœ… Implemented | hPa |
| 0x0B | 0x7D | PM2.5 | âœ… Implemented | Âµg/mÂ³ |
| 0x0C | 0x7D | PM10 | âœ… Implemented | Âµg/mÂ³ |
| 0x0E | 0x01 | Buzzer Status | âœ… Implemented | On/Off |
| 0xFF | Various | Device Info | âœ… Implemented | 8 info types |
| 0x20 | 0xCE | History IAQ | âœ… Implemented | 20-byte format |
| 0x21 | 0xCE | History Âµg/mÂ³ | âœ… Implemented | 20-byte format |

## Special Features
- **Dual TVOC Units**: IAQ index and Âµg/mÂ³ concentration
- **History Data**: Timestamped historical readings
- **CO2 Calibration**: Multiple calibration modes (ABC, manual, factory)
- **Device Info**: Complete version and configuration data
- **Reset Detection**: Power-on and reset event tracking
- **Time Management**: Timezone and sync configuration

## Decoded Parameters
| Parameter | Unit | Range | Notes |
|-----------|------|-------|-------|
| battery_pct | % | 0 to 100 | Battery percentage |
| temperature | Â°C | -40 to 125 | Â±0.1Â°C accuracy |
| humidity | %RH | 0 to 100 | Â±0.5% accuracy |
| pir_motion | boolean | - | Motion detection |
| light_level | level | 0 to 255 | Light intensity |
| co2_ppm | ppm | 400 to 5000 | NDIR CO2 sensor |
| tvoc_iaq | IAQ | 0 to 500 | Air quality index |
| tvoc_ugm3 | Âµg/mÂ³ | 0 to 65000 | Concentration |
| pressure_hpa | hPa | 300 to 1100 | Barometric |
| pm25_ugm3 | Âµg/mÂ³ | 0 to 1000 | Fine particles |
| pm10_ugm3 | Âµg/mÂ³ | 0 to 1000 | Coarse particles |
| firmware_version | string | - | Device firmware |
| serial_number | string | - | 8-byte hex serial |

## Changelog
```
- v1.2.0 (2025-09-02): Template v2.5.0 upgrade with TestUI payload verification
- v1.1.0 (2025-09-02): Framework v2.4.1 upgrade with critical Berry keys() fixes
- v1.0.0 (2025-08-26): Initial generation from repository specifications
```